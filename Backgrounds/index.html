<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Color Picker</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    </style>
</head>
<body>
    <!-- Sidebar -->
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <h2>
                <span class="material-icons">palette</span>
                Color Picker
            </h2>
        </div>
        <div class="color-list" id="colorList">
            <!-- Color items will be added dynamically -->
        </div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <div class="top-bar">
            <button class="toggle-sidebar" id="toggleSidebar">
                <span class="material-icons">menu</span>
            </button>
            <h3>Background Preview</h3>
            <div style="width: 24px;"></div> <!-- Spacer for alignment -->
        </div>
        <div class="content" id="content">
            <h1>Select a color from the sidebar</h1>
        </div>
    </div>

    <!-- Alert -->
    <div class="alert" id="alert">
        <span class="material-icons alert-icon">check_circle</span>
        <span class="alert-message">Color copied to clipboard!</span>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // DOM Elements
            const sidebar = document.getElementById('sidebar');
            const toggleSidebar = document.getElementById('toggleSidebar');
            const colorList = document.getElementById('colorList');
            const content = document.getElementById('content');
            const alert = document.getElementById('alert');

            // Color data
            const colors = [
                { name: 'Green 100', class: 'bg-green-100', value: '#dcfce7' },
                { name: 'Pink 100', class: 'bg-pink-100', value: '#fce7f3' },
                { name: 'White', class: 'bg-white', value: '#ffffff' },
                { name: 'Sky White', class: 'bg-sky-white-100', value: '#f0f9ff' },
                { name: 'Blue 100', class: 'bg-blue-100', value: '#dbeafe' },
                { name: 'Purple 100', class: 'bg-purple-100', value: '#f3e8ff' },
                { name: 'Lime', class: 'bg-lime', value: '#84cc16' },
                { name: 'Yellow 200', class: 'bg-yellow-200', value: '#fef08a' },
                { name: 'Peach 200', class: 'bg-peach-200', value: '#fed7aa' },
                { name: 'Grey 200', class: 'bg-grey-200', value: '#e5e7eb' },
                { name: 'Orange 200', class: 'bg-orange-200', value: '#fdba74' },
                { name: 'Sky Blue', class: 'bg-sky-blue', value: '#7dd3fc' },
                { name: 'Aqua', class: 'bg-aqua', value: '#22d3ee' },
                { name: 'Snow', class: 'bg-snow', value: '#FFFAFA' },
                { name: 'Sand', class: 'bg-sand', value: '#f5e8c3' },
                // Add more colors here as needed
            ];

            // Generate color list
            colors.forEach(color => {
                const colorItem = document.createElement('div');
                colorItem.className = 'color-item';
                colorItem.innerHTML = `
                    <div class="color-info">
                        <span class="color-name">${color.name}</span>
                    </div>
                    <div class="color-preview" style="background-color: ${color.value}"></div>
                    <div class="color-actions">
                        <button class="menu-btn">
                            <span class="material-icons">more_vert</span>
                        </button>
                        <div class="dropdown-menu">
                            <div class="menu-item" data-action="copy" data-class="${color.class}">
                                <span class="material-icons">content_copy</span>
                                Copy CSS
                            </div>
                        </div>
                    </div>
                `;
                colorList.appendChild(colorItem);

                // Add click event to change background
                colorItem.addEventListener('click', function(e) {
                    // Don't change background if clicking on menu button
                    if (e.target.closest('.menu-btn')) {
                        return;
                    }

                    // Remove active class from all items
                    document.querySelectorAll('.color-item').forEach(item => {
                        item.classList.remove('active');
                    });

                    // Add active class to clicked item
                    this.classList.add('active');

                    // Change background
                    document.body.className = '';
                    document.body.classList.add(color.class);
                });

                // Add menu toggle functionality
                const menuBtn = colorItem.querySelector('.menu-btn');
                const dropdownMenu = colorItem.querySelector('.dropdown-menu');

                menuBtn.addEventListener('click', function(e) {
                    e.stopPropagation();
                    // Close all other open menus
                    document.querySelectorAll('.dropdown-menu').forEach(menu => {
                        if (menu !== dropdownMenu) {
                            menu.classList.remove('show');
                        }
                    });
                    dropdownMenu.classList.toggle('show');
                });
            });

            // Close dropdown when clicking outside
            document.addEventListener('click', function() {
                document.querySelectorAll('.dropdown-menu').forEach(menu => {
                    menu.classList.remove('show');
                });
            });

            // Copy CSS to clipboard
            document.addEventListener('click', function(e) {
                if (e.target.closest('[data-action="copy"]')) {
                    e.stopPropagation();
                    const colorClass = e.target.closest('[data-action="copy"]').getAttribute('data-class');
                    const color = colors.find(c => c.class === colorClass);
                    
                    // Copy the CSS class to clipboard
                    navigator.clipboard.writeText(`.${color.class} { background-color: ${color.value}; }`)
                        .then(() => {
                            showAlert('Color CSS copied to clipboard!');
                        })
                        .catch(err => {
                            console.error('Failed to copy: ', err);
                            showAlert('Failed to copy color CSS');
                        });
                }
            });

            // Toggle sidebar on mobile
            toggleSidebar.addEventListener('click', function() {
                sidebar.classList.toggle('open');
            });

            // Show alert
            function showAlert(message) {
                const alertMessage = alert.querySelector('.alert-message');
                alertMessage.textContent = message;
                alert.classList.add('show');
                
                setTimeout(() => {
                    alert.classList.remove('show');
                }, 3000);
            }

            // Initialize with first color
            if (colors.length > 0) {
                const firstColorItem = document.querySelector('.color-item');
                firstColorItem.classList.add('active');
                document.body.classList.add(colors[0].class);
            }
        });
    </script>
</body>
</html>